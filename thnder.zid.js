const _0x239bcd=_0x3ad1;function _0x3ad1(_0x226586,_0x1dc093){const _0x4e611f=_0x4e61();return _0x3ad1=function(_0x3ad11e,_0x4f344f){_0x3ad11e=_0x3ad11e-0x1d4;let _0xf458ad=_0x4e611f[_0x3ad11e];return _0xf458ad;},_0x3ad1(_0x226586,_0x1dc093);}function _0x4e61(){const _0x1137f7=['stringify','email','test','Error\x20in\x20localStorage','landing','customer','entries','34TEyLUE','search','jid','12312AerFVb','application/json','getItem','3464730qkgsjC','xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx','Failed\x20to\x20report\x20error:','referrer','44NdLfcj','https://account.thnderapp.com/api/thnder/zid','setItem','Attempt\x20','utms','1861896XXcmmD','uid','direct\x20visit','random','location','log','1527717dWjbAb','mobile','land','800596FAhlOR','message','48079BKodJH','Error\x20in\x20saveCustomerToStorage','user','Failed\x20to\x20send\x20event\x20data:','replace','4086600LwMvUw','toString','phoneNumber','undefined','randomUUID','\x20failed:','toLowerCase','error','stack','removeItem','pathname','onload','parse','toISOString','href','10BXGLMr','POST','4617FLSDiU','Error\x20in\x20main\x20script\x20execution'];_0x4e61=function(){return _0x1137f7;};return _0x4e61();}(function(_0xfa9021,_0x508b45){const _0xcabb04=_0x3ad1,_0x172fdc=_0xfa9021();while(!![]){try{const _0x2430d2=parseInt(_0xcabb04(0x208))/0x1*(-parseInt(_0xcabb04(0x1ee))/0x2)+parseInt(_0xcabb04(0x203))/0x3+-parseInt(_0xcabb04(0x206))/0x4+parseInt(_0xcabb04(0x1e3))/0x5*(-parseInt(_0xcabb04(0x1fd))/0x6)+-parseInt(_0xcabb04(0x1d4))/0x7+parseInt(_0xcabb04(0x1f1))/0x8*(parseInt(_0xcabb04(0x1e5))/0x9)+-parseInt(_0xcabb04(0x1f4))/0xa*(-parseInt(_0xcabb04(0x1f8))/0xb);if(_0x2430d2===_0x508b45)break;else _0x172fdc['push'](_0x172fdc['shift']());}catch(_0x1850f4){_0x172fdc['push'](_0x172fdc['shift']());}}}(_0x4e61,0x70f7a));const sendErrorReport=async _0x31498d=>{const _0x5977fb=_0x3ad1;try{await fetch('https://account.thnderapp.com/api/thnder/error',{'method':_0x5977fb(0x1e4),'headers':{'Content-Type':_0x5977fb(0x1f2)},'body':JSON[_0x5977fb(0x1e7)]({'timestamp':new Date()[_0x5977fb(0x1e1)](),..._0x31498d,'url':window['location'][_0x5977fb(0x1e2)]})});}catch(_0x3f803e){console[_0x5977fb(0x1db)](_0x5977fb(0x1f6),_0x3f803e);}},generateUUID=()=>{const _0x5e36a1=_0x3ad1;if(typeof crypto!==_0x5e36a1(0x1d7)&&crypto[_0x5e36a1(0x1d8)])return crypto['randomUUID']();return _0x5e36a1(0x1f5)[_0x5e36a1(0x20c)](/[xy]/g,_0x1082e0=>{const _0x5440bc=_0x5e36a1,_0x5aeb61=Math[_0x5440bc(0x200)]()*0x10|0x0,_0xa5ff8f=_0x1082e0==='x'?_0x5aeb61:_0x5aeb61&0x3|0x8;return _0xa5ff8f[_0x5440bc(0x1d5)](0x10);});},isStorageAvailable=_0x37da9b=>{const _0x237873=_0x3ad1;try{const _0x3f5248=window[_0x37da9b],_0x2e869f='__test__';return _0x3f5248[_0x237873(0x1fa)](_0x2e869f,_0x2e869f),_0x3f5248[_0x237873(0x1dd)](_0x2e869f),!![];}catch(_0x23e4c8){return![];}},getJid=()=>{const _0x211a9b=_0x3ad1;return sessionStorage[_0x211a9b(0x1f3)](_0x211a9b(0x1f0));},setJid=_0x5dc82e=>{const _0x2c41d5=_0x3ad1;sessionStorage[_0x2c41d5(0x1fa)](_0x2c41d5(0x1f0),_0x5dc82e);},getUtms=()=>{const _0x8796a2=_0x3ad1,_0x165cf3=sessionStorage[_0x8796a2(0x1f3)]('utms');return _0x165cf3?JSON[_0x8796a2(0x1e0)](_0x165cf3):null;},setUtms=_0x2e45a7=>{const _0x2a254a=_0x3ad1;sessionStorage[_0x2a254a(0x1fa)](_0x2a254a(0x1fc),JSON[_0x2a254a(0x1e7)](_0x2e45a7));},getLand=()=>{const _0x2a627b=_0x3ad1;return sessionStorage[_0x2a627b(0x1f3)](_0x2a627b(0x205));},setLand=_0x48282c=>{const _0x541b83=_0x3ad1;sessionStorage[_0x541b83(0x1fa)]('land',_0x48282c);};try{let uid=localStorage[_0x239bcd(0x1f3)](_0x239bcd(0x1fe));!uid&&(uid=crypto[_0x239bcd(0x1d8)](),localStorage[_0x239bcd(0x1fa)](_0x239bcd(0x1fe),uid));const retrieveAdditionalParameters=()=>{const _0xccde35=_0x239bcd;return[...new URLSearchParams(window[_0xccde35(0x201)][_0xccde35(0x1ef)])[_0xccde35(0x1ed)]()]['reduce']((_0xd07345,[_0x457797,_0x442729])=>({..._0xd07345,[_0x457797[_0xccde35(0x1da)]()]:_0x442729['toLowerCase']()}),{});};let jid=getJid(),utms=getUtms(),newUtms=retrieveAdditionalParameters(),pageLanded=getLand();(!jid||!utms||!pageLanded)&&(setUtms(newUtms),jid=crypto['randomUUID'](),setJid(jid),setLand(![]));let customerData=window[_0x239bcd(0x1ec)]?.['id']||window[_0x239bcd(0x1ec)]?.[_0x239bcd(0x1e8)]||window['customer']?.['mobile']?{'id':window[_0x239bcd(0x1ec)]?.['id'],'email':window[_0x239bcd(0x1ec)]?.[_0x239bcd(0x1e8)],'phoneNumber':window[_0x239bcd(0x1ec)]?.[_0x239bcd(0x204)]}:null;const saveCustomerToStorage=_0x13b012=>{const _0x7f9c1d=_0x239bcd;!isStorageAvailable('localStorage')&&sendErrorReport({'message':_0x7f9c1d(0x1ea),'error':error[_0x7f9c1d(0x207)],'stack':error['stack']});try{(_0x13b012?.['id']||_0x13b012?.['email']||_0x13b012?.[_0x7f9c1d(0x1d6)])&&localStorage[_0x7f9c1d(0x1fa)](_0x7f9c1d(0x20a),JSON[_0x7f9c1d(0x1e7)]({'id':_0x13b012['id'],'email':_0x13b012['email'],'phoneNumber':_0x13b012[_0x7f9c1d(0x1d6)]}));}catch(_0x343cee){sendErrorReport({'message':_0x7f9c1d(0x209),'error':_0x343cee['message'],'stack':_0x343cee[_0x7f9c1d(0x1dc)]});}};let lastKnownCustomerState=null;const checkCustomerState=()=>{const _0x55ed36=_0x239bcd,_0x578f1e=window[_0x55ed36(0x1ec)],_0x4fa016=Boolean(_0x578f1e?.['id']||_0x578f1e?.[_0x55ed36(0x1e8)]||_0x578f1e?.[_0x55ed36(0x204)]),_0x39dd36=Boolean(lastKnownCustomerState?.['id']||lastKnownCustomerState?.[_0x55ed36(0x1e8)]||lastKnownCustomerState?.[_0x55ed36(0x204)]);_0x4fa016!==_0x39dd36&&(lastKnownCustomerState=_0x578f1e,_0x578f1e&&(customerData={'id':_0x578f1e['id'],'email':_0x578f1e[_0x55ed36(0x1e8)],'phoneNumber':_0x578f1e[_0x55ed36(0x204)]}));};window[_0x239bcd(0x1ec)]&&saveCustomerToStorage(window[_0x239bcd(0x1ec)]);setInterval(checkCustomerState,0x3e8);const getDomainFromUrl=_0x189d86=>{const _0x60811b=_0x239bcd;if(!_0x189d86)return'';const _0x199dc3=new URL(_0x189d86)['hostname'];return _0x199dc3[_0x60811b(0x20c)](/^www\./,'');},shouldSendRequest=()=>{const _0x271b26=_0x239bcd,_0x349ba5=window[_0x271b26(0x201)][_0x271b26(0x1de)];return!/^\/o\/[^/]+/[_0x271b26(0x1e9)](_0x349ba5);},domain=getDomainFromUrl(window[_0x239bcd(0x201)][_0x239bcd(0x1e2)]),combinedUid=uid+'_'+domain,fetchWithRetry=async(_0x99a3bd,_0x1657e5,_0x3f5be4=0x9c4)=>{const _0x3714b8=_0x239bcd;let _0x36fc0f=0x0;while(!![]){try{const _0x51e315=await fetch(_0x99a3bd,_0x1657e5);if(_0x51e315['ok'])return _0x51e315;}catch(_0x11b34a){console[_0x3714b8(0x202)](_0x3714b8(0x1fb)+(_0x36fc0f+0x1)+_0x3714b8(0x1d9),_0x11b34a);}await new Promise(_0x2f86b2=>setTimeout(_0x2f86b2,_0x3f5be4)),_0x36fc0f++;}},postEventData=async(_0x468077,_0x24eb35)=>{const _0x43a266=_0x239bcd,_0x4b275b=localStorage[_0x43a266(0x1f3)](_0x43a266(0x20a));if(!shouldSendRequest())return;if(_0x24eb35===_0x43a266(0x1eb)&&pageLanded&&(_0x4b275b===JSON[_0x43a266(0x1e7)](customerData)||!customerData))return;let _0x55098e=document[_0x43a266(0x1f7)],_0x51ee6d=_0x55098e?getDomainFromUrl(_0x55098e):_0x43a266(0x1ff),_0x2734b7=getDomainFromUrl(window[_0x43a266(0x201)][_0x43a266(0x1e2)]);_0x51ee6d===_0x2734b7&&(_0x51ee6d=_0x43a266(0x1ff));_0x24eb35===_0x43a266(0x1eb)&&setLand(!![]);saveCustomerToStorage(customerData);let _0x306300={'eventType':_0x24eb35,'domain':_0x2734b7,'uid':combinedUid,'jid':jid,'referrer':_0x51ee6d,'additionalParams':retrieveAdditionalParameters(),'customer':customerData,..._0x468077};try{await fetchWithRetry(_0x43a266(0x1f9),{'method':'POST','headers':{'Content-Type':_0x43a266(0x1f2)},'body':JSON[_0x43a266(0x1e7)](_0x306300)});}catch(_0xeb0f99){console[_0x43a266(0x1db)](_0x43a266(0x20b),_0xeb0f99);}};window[_0x239bcd(0x1df)]=()=>{const _0x2fbefc=_0x239bcd;if(!shouldSendRequest())return;const _0x2f95e1=retrieveAdditionalParameters();postEventData({'additionalParams':_0x2f95e1},_0x2fbefc(0x1eb));};}catch(_0x190d2a){sendErrorReport({'message':_0x239bcd(0x1e6),'error':_0x190d2a['message'],'stack':_0x190d2a[_0x239bcd(0x1dc)]});}